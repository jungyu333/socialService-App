import produce from "immer";
import { PostActionType } from "../action/postActions";
import {
  ADD_POST_FAILURE,
  ADD_POST_REQUEST,
  ADD_POST_SUCCESS,
  POST_IMAGE_DELETE,
  POST_IMAGE_UPLOAD_FAILURE,
  POST_IMAGE_UPLOAD_REQUEST,
  POST_IMAGE_UPLOAD_SUCCESS,
} from "../action/types";

const initialState: PostState = {
  postImageUploadLoading: false,
  postImageUploadDone: false,
  postImageUploadError: null,
  addPostLoading: false,
  addPostDone: false,
  addPostError: null,
  imagePaths: [],
  mainPosts: [
    {
      id: 1,
      User: { id: 1, name: "jun" },
      content: "#해시태그 #트윗 안녕하세요",
      Images: [
        {
          src: `data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHsA2wMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAADBAECBQYAB//EAEAQAAIBAwMBBQUFBQYGAwAAAAECAwAEEQUSITEGE0FRYSIycYGRFFJyobEVI0LB0TNigpLh8AcWRFNzwjQ1Q//EABgBAQEBAQEAAAAAAAAAAAAAAAABAgME/8QAHREBAQEBAQEAAwEAAAAAAAAAAAERAiESEzFRA//aAAwDAQACEQMRAD8A+aCEY8vjVvsrEZUZHpTW5TgKtWXCHcMgfGsS16LzC8cRRRuFDmG8HgKB0xTjyK3PnQnTd0qhWEEEbvCnFcINxGWoKx7aIF3Ak+HhSwlSZ3bwFDYM3C+NeVCZOuKeji2lSvJqxGZHaOxwc4puK1CREk0WR2VsDxqGLMFUiiFUQDOenjTacg4IxjHBoSxliVI4FDeOXftVSE8xXPqa789ZA7obruIIxbK8gHxpFwRLIAOMEYp54njmTYPaHQ4qi2++4fvWCjqa1y5dkwSF5qo6809JBGvusG+dDbCJkbc5rTEgkSNtXC48Rmm4EcvhifUilI9zbMZJ9a0YdzMoRVyepI6Vh2kmKyR5BHUCk3j5zWzcRGNTkYOOtKLDuz61qVjqehRR/v8A5UxDD7LHI5opixcqQONuKlUG7HXFKshZlcNgDigywA8nDfyp5lyeOlDaLI9msrSMcKo2VwR6jNMFTs9kfHNU7g7uuCPWpEhUYJq4mgPCSxJHHpUfZV+7TySZHTBPiaKtqCAc/lRYRjOPCj7Mrx8jSoYg0dJd0Z5oiVi8+a8gUEjpQ2cgAEEZ6VRZRvwDnmmmGGQeAqgX95g8VYsAV3A1Mnv5qpVFRWYnPSmonAIx4VnCVkYkDPpRrUPI+TwDVQ3JAXAkX6UFw4CnHOeBT0auQNnQ+lIahdNgxWqAkZ3yZwq464JpC3IMrJbQvLLtY8gZOAG/34Ui2pyzsibETPQ4AB+vhWW7MR7ZJ8s+AqA554zVxz+q6DSo9V1i5e202MTPEu9wgQBR55qYbDW7iZols5pJVDHHcjkDqcnjHrW12AuXhV4Zf2ekAIdpWG94h947W46eNb2tXmgPbE3GqzXs6uSyrI/dkYJCsVHI46Zoxerr5/fWMsUzwyRQtMgy7LIMLxyOoHiKziyxEjYjeuT/AFrek0/VLq+d7CKKVrkgAxuq4HGBgnA6YwT4U1P2S1lVabVY4baBGG6YYbr4gLzx8KL9MMnbaCaZECEeyIpBuPxGeK0hp9rbSd3e6i0JWNJWSMhmUMMjrjJ5HTzrrNF0jR9Mia9skF4owDeXYURhOrbV6k4zkgUj22u9C1idJhfgSxx/uxbwEiXjKgtTGfye5HEz6jN3h90KBgBc9Pmc1eHUnVsOOKzXYszEjBzyBVtjFVO05+HhTHT6b0d33jARuSp8KtA2JDlsk1h20vduDWjaTL34PnmpjpLrVQ+ycAUnI0iyDA4PFEMjKgIobTn2ePGsxq0sxcuQSaqpbGccZp44Y+719KpJbERjrya0ikUjMwUAZ8q0Uk9kUKC1EeWPX9KdWGPaOTWK3HPsvFCRvKjD2jjNUMe3OBWmL4vuIXg+0fE+FRbqHk4wTnwFVVGx4801axFH4XjI5xUXV7uI4THnUvA3XpTl3GcBiMDNdboHZKO5hE2pykj/ALEZ5H4j4H0qxnrqT9uDhhXdyfyrVsdNu5Ix3FpNJznKxnAFfUY9O0fS4g62ltAFwO87sFs/EjNHkazGTJNEO7badzdD5Vc1y/Ln6fKL3TNcdO7tNNmYMPakLKnyGTmkG7I9p7ohzaYAGP7RQFHgMCvszXGnx96HuYVMOBJukA2Z6Z8s0ciG3wzOsSscAlsAmk8Y6/06r4l/yR2gkJbuYyf70vX8qn/kPXse5bA/+U/0r7hmOVnVpEZ4+HDHOzPTPlUiCLeIw0YYru294M7fPHlVZ+q+L23YfX4GyHs+RyokYg/IrjNHh7DXsk8Bul2xZ/elJMnHpwOT8ABX19LJZRvhKFD0ZGBBrz6eRjcCR6DNRL1XM6Xpem6Z3bQWw7yMYWRk5GPEeR/Oi6tNJJGncxRyhWDd26ZDH18AB1+Vb/2FAM7T8SKFPbWuwrP3e0jkPjGPnRnHy3tU+qXJNm1gslvGAwEERWJT4/iPQeVczaWdxaX8bSW8iBcyZdSQAFJwT08BX1S/XslYS72tdLWQnAYRxgk+XAyaiXU0sreRrXTu7iAyUhtwufkcZq63K+NQw3ErxGKGWViwIXuyQxzn51oXU3aC8nYyW93uPVUgZV+mMV1l12za+RoLbTbqbPG3ZtH5dKY0q8v4bORbzJkQHYnek+HQmmt+uWtOx2uXUa3DwwW4fwnl2N/lwcUzN2U1CwVZ5ZraRB7wjcnA+ldVDqCzQq7KUYj2lLZwaCe9uoLyN2XaDujKrg4x09ajXNrkHJCgdeKBITlcDpTXcNuUgHGOTUOgBQFQT61mO9Ws1diWJ4p8LvCAnA3Cs6GVlcLGoI9KdTeUXcCDmmmGz7jKoJ9phux5GhhJce630q4L26ezMQCS2A1XGpXGOqGprXjn41AJNQzZHsDNFeLq27igxqNuTlifCtbGMosbkfw8+Rp2BQRlmAz+VJpCeDg06pEUeNnUVLWpLW9odtvuYbmazku7W2dWljj5Y+Xx8+K0V0vs6z3d5Z6xPau1vKoS7fYysysPdOGyB0Oav2bma0sYWXIEpLt65/0xTOvL+19LubNAimVCFLDIDeBrUeb/AEtvT5jPrmrx3UzQarqEYEhwqXTqo9MZqydp9fB/+5vc+G64OPqc09cdlNUeXf8AZSCwyRG6Pg+hJFKv2Y1WPJ+yXGfELHn9CfyrSSIPantCjMp1e75PuvtB/Mc0Ve2faZRg63dkeqoNvy20i2j6jHkGwvSMY4tpT+eKF+zbwYDWV4MedtKD9dtBqr217T7WJ125IbksI4/zG3mjr2u7Uqgml1i62MMLN3EeD6e7msdNNuC2WgnHqIHU/XFGe21B4wkhunjUcKsMgx+RoOn0DXO1GqXohXVruVcgAJtTex4VenGfPyBro7zSu0x08Wo1u7lvHkLTTb58RgdETYuPUnPlXPditPdZC17avDaphgzKY5JpM+9jqAPX+Zrp3stOaUtJDJLk/wD6TuwPyLYqazfHNXOiatFJPFd69bERttMs+rsAWwMjaTnjOD86Fp2jaRb3KXOt6zZXsUftvaWiyTNNjnaCRgAnjPlXWRWuk27b4tLtFb73dKT9cUZrxEXEUMcfwUCmmkNNW51q373WwyxyS95Bp49iKBQfZGwYGeM81paisMceGlRZD0UtgmkJr8QxyTOTkZ4z1NfOdV7U3U18zwMpQN7THkv/AEFRZ67GacIWUHx8OM1nST4yQevWk1u/tESyqTtcZFDfd50dZyYabAOCcU5aaimnW81xMQQF8azooWYYPQ0n2lPd2MUOcb2yflRbIIJo5h31uVMbcrz4UNyGOXXnoKR0VM2ZLuAA5604ShPXisWTXWXwdAiDdgfKmkuEKDaAazy4xgAtRrNP4jkDyqY19GWV5TkKT6UVYUAA7o0RX2gMhYfKrHvTyJOPw0T9ue2zbOFG09cnpURl1YZADY8OlSksueF46881JDO+dpHpUxvwXLFPYBznw8KbRQ/9qDwOMVSBZASFhyMY5PSpuEeKF5SjKFHXJq5UtjqNN16ExrbotjNs/d90buJJOOPdZlP60zaavZXd7LZxo8dzFzJH1C/Pp4+dfMLa2N7rSRPGp3zHO8+7ySQRXXX/AGjstDn+ywWW9sZYRkIB+XWumPHY7ZSCKnAPgT8q4WL/AIg2q+/p1z/hkU/rimY/+IGlt79rep/hQ/8AtTEdeQK8QPMfWuXTt1ordTcr8Yf6Ude2uht/1Mg+MTcU9MdBtH3q8V9awx2v0Jv+vX5q39KuO1OiP7uow/PIp6Y1iq/fUfGo7mDGWu4/gAa5vUodJ7SYEGoAyxA4a2mAYA+Y8fpSF9bnSLOJB+y5Qq4DXdkHd/ic8mhjsj9gXg3WW8gtL3TQBf3bsT+HFfMZtauNzD7BoK+q6ZCT+YNbXYu+knhuLSVsmMh0+BPIHoP50w+TXay8a30x1U8yHaPnn+Wa4M7SCMY8M11Pbhz39rCDwAWP6D+dcyyqFP3s4FWLHTaJGZNPhHXAP6mtZLYDlsfE9K5rs7fSwPJbRKr95yu5sYI68/76Vp3N5Gv/AMu8Lt4xQcD69ajpGi91DC3dRKZJPur4fHyrnO0Ussk6LNsBA6Kc4+NeudX2r3dqqQp5J1+dZsrbokk5Zt3vE1R0ek2CNpkEgGd4yfjmmvsKjogHqRU6Ssn7Itj0yuevqatLIQcZNZaKz27J4/SiwRCNdzmmYlyOPa+NUkUls+XhWeq6cSBtIUUgZz4CrpdbVCgHj1NBlbD+wh3dSc0v3q+O6uXrtkMrbOP4gPmKNHan74/zUSG2CjLg/LPSmorZBLlhIfgp4rvrzqw24HvPkfipfXLZf2TO6scjacem4Zrbiih2chh+IYo0ljDdWskL8LIhXIHnWd9MciNcsEvFuptGX7UqYE8L9eOpHTNctd/arq4kuXhlJlYt7pPHyouo289ncS28w2SI2G9fX59aWsxFJdJHNP8AZo2ODKE37fXGQa6ftxsDMbj3o2HxFQeOv50ysx7liLmcSB8KAfZK+ZOfyxQftU3/AHmJ9ef1qoHxXq3NM02S/tGuJL9Lf2sKjxhtw8/DFUm09o3I+2WrevdD/WouVjdK9TrK69UtnH4cfpiqEge9a25+bj/2qpgEMskE8csLFJEO5WHUEV9Q0W9Gv6TuiKLcEbZFYZCv8PKvmvewgEGziz5iR/61WK4aHd3ZkXd12yEfpUI67WOyGrSzh0gtp2PirbAB9RVtG7IaxYXLXE062alMZgcOx5H3gRiuUF9J4vOfQzt/WhvcSMPaaQjyLk0Gvr0OdXlie6ln7lF9t8E56kcDHQ1jPkH2h0PTyqYXCuAw4548BUwo9zOqK6LvJyWOAPEmqqIWPfDLBM8E9ABWzHDpHc4mvJmlI6oAAPgDWG+cn41AiY+NQlWuAi3EqxNujDHaSeookbD7MVP3qmOyd/4wBR47DYSSzH8K9aLJW/b3yxWkEQ3BlQLxUjUDnHJ9SBWUEVcbnYccAUVCB7qsvwOT+dZrtGpHeAg7jiqtc56YI+NICU7cMhJPiKqJcNnO/P8AD1rnbXSSD3Fwo98Y3DrS/wBoh+4/+alp5N3I5B6Cls/3ah46wTSFSxQlQcZ8KlLwRkZfbjybr9DWLulmxukO3wANQYCMYww9DXXHJ0cN6sj5G4jx5NEbV+5Urk4/vNXM4cnOcDyNXEDMc7x8T40wW166tNQw8jFZUXCuieHkfOuZeM88E+tb01jjB2hqqbAOme7IJ8jVnjFmsAhqlcBgXGQK05rCRDgxmgSWrj+DirrGKm8bGMAAdMeFCaYnpVjbuOqkfKo+zueACTQ9V7yo3k+NWNvIvVCB514QMelDKGTXs0b7LL92vG1mH8NDKCDRV5XHnVhZzMOF/KrCxn+7TTKCynPkR51IVVwRnNNJYzsuMjHwphdJcAMyycenFNX5pa1tml9rIGfA04ti6+7sPzFFjgZDghs+tORyPH7MgJHwqNzkqIZUHOB8xUKTuwWPyANFZUOSqkc+IxTunQac9tdSandTQyRoDbrDgmRiTxj04z6Gir6fop1KC7lSbu1t1BYGNuchj4dB7JyfMjzpm/7Ofs2K4kvtRjhECBmC27MSpkMYPB8cZHoQaZn0/s6glaPWnm2b9vKgnBfGODnOEH+LPTivJp/ZxxIF1FoUUr7TbCeQCSAFG7qRx025om149jrkPI41SMpHO0DP3JwCi7iSc9PDn61S47G30ELbbmGVg8ihIkY7yocgDzY92RjwyOtXm0Ds04bbqyrNuXuzuRgoyuckAZxlunlS0+i9lVyBqjNIWfYURXCxhMruGBznjHiR0FTF+r/Qtb7N3GkWkl3JeWlxH3ojCxcMpJcdPL2D/sVhGdmOdo6AdK1dXstFtoH/AGfcyTyicxgNtAKAA7xgZ5yB8VPpWTtX7v50yLOr/RURkHOPhmpXvR0H0FLZJXPjRLdiH61SwYvIwG7oPIV7AJ91+fKrZJyfH0qVJB+XlRExuwG0M4GfjVmWYHeOQenrVJTgcccVRJXCkbj1FFEPekbVQD8PFUcSoPa3Y8TuzXi7edRJIxAXPB68UF1AkGM4Pqa9txnBGc8cCqp/Zn41JJ34zxkUFlGDzkfhUU7brHIg2ruAHUqDWf1YUWKRwwGePKg0BCuF9nx8sV7ukDkEEY9Big2sjtNsZiVzjHhTYUFuQDUAZBH02LuPA9aG0bAYRQvnV5AMv6Hiqg5X5UQsylG53Y9WzUIQTynJ6HP+tSVGAfHaf1oTnaTjiqq5eIEq4YeoNCZYuoJ+dVhYtIQTkUcIp6gUAlMbAljjHXioKxnld30rz8o+ccdOK9EcoCeuKCdiEfyNUK4U4OcGhqTsY+Oa9/Dn0oiwfA681UsXzvkPyqQAQOK8yjHSgEcgcHPzqvwB+tEKjHyq4RceP1NB/9k=`,
        },
        {
          src: `data:image/jpeg;base64,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`,
        },
      ],
      Comments: [
        {
          User: { name: "jun" },
          content: "comment1",
        },
        {
          User: { name: "jungyu" },
          content: "comment2",
        },
      ],
    },
  ],
};

const dummyData = (data) => ({
  id: 2,
  User: { id: 21, name: "jungyu" },
  content: data,
  Images: [{}],
  Comments: [
    { User: { name: "jun1" }, content: "comment11" },
    { User: { name: "jun2" }, content: "comment22" },
  ],
});

export interface PostState {
  postImageUploadLoading: boolean;
  postImageUploadDone: boolean;
  postImageUploadError: string;
  addPostLoading: boolean;
  addPostError: string;
  addPostDone: boolean;
  mainPosts: [
    {
      id: number;
      User: { id: number; name: string };
      content: string;
      Images: { src: string }[];
      Comments: { User: { name: string }; content: string }[];
    }
  ];
  imagePaths: string[];
}

const postReducer = (state = initialState, action: PostActionType) =>
  produce(state, (draft) => {
    switch (action.type) {
      case POST_IMAGE_UPLOAD_REQUEST:
        draft.postImageUploadLoading = true;
        draft.postImageUploadDone = false;
        draft.postImageUploadError = null;
        break;
      case POST_IMAGE_UPLOAD_SUCCESS:
        draft.postImageUploadLoading = false;
        draft.postImageUploadDone = true;
        draft.postImageUploadError = null;
        draft.imagePaths = action.data;
        break;
      case POST_IMAGE_UPLOAD_FAILURE:
        draft.postImageUploadLoading = false;
        draft.postImageUploadDone = false;
        draft.postImageUploadError = action.data;
        break;
      case POST_IMAGE_DELETE:
        draft.imagePaths = draft.imagePaths.filter(
          (image) => image !== action.data
        );
        break;
      case ADD_POST_REQUEST:
        draft.addPostLoading = true;
        draft.addPostDone = false;
        draft.addPostError = null;
        break;
      case ADD_POST_SUCCESS:
        draft.addPostLoading = false;
        draft.addPostDone = true;
        draft.addPostError = null;
        draft.mainPosts.unshift(action.data);
        break;
      case ADD_POST_FAILURE:
        draft.addPostLoading = false;
        draft.addPostDone = false;
        draft.addPostError = action.data;
        break;

      default:
        break;
    }
  });

export default postReducer;
